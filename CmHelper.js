!function(e,t){function n(e,n,r){c=e,m=n,o=r.path,a(),l(),t("<link/>",{id:"UICmHelperstyle",rel:"stylesheet",type:"text/css",href:o+"/CmHelper.css?"+Date.now()}).appendTo("head"),t.ACCall("initdata/cmhelper")}function a(){i=t(".UICmHelper",c),r(),p=setInterval(r,1e3),i.enabledrag({mouseup:function(e,t){__AC.setDbValue("UICmHelper.position",e+","+t),p=setInterval(r,1e3)}}).mousedown(function(){clearInterval(p)});var e=__AC.getDbValue("UICmHelper.position");e&&(e=e.split(","),i.css("left",parseInt(e[0])).css("top",parseInt(e[1]))),i.appendTo("#wrapper")}function r(){var e=t.ACGetData("cmhelper?command/current"),n={};if(null!=e)try{n=JSON.parse(atob(e))}catch(a){}if(t("#UICmHelper_LastCommand",i).html(n.name||"none"),n.name)switch(t.ACSetData("cmhelper?command/current",""),n.name){case"start":t.ACCall("start");break;case"achievments":var r="null";try{var r=btoa(JSON.stringify(t.ACCall("getachievements","async=true").achievements.filter(function(e){return-1!=e.maxTier}).reduce(function(e,t){return e[t.name]=t.maxTier,e},{})))}catch(a){}t.ACSetData("cmhelper?result/achievments",r)}}function l(){t(document).off(".UICmHelper").on({"ACRunningEvent.UICmHelper":function(){i.addClass("ACactive"),clearInterval(p)},"ACStoppedEvent.UICmHelper":function(){i.removeClass("ACactive"),p=setInterval(r,1e3)}})}function s(){t("#UICmHelperstyle").remove(),t(".UICmHelper").remove(),clearInterval(p),t(document).off(".UICmHelper"),delete e}var c,m,o,i,p;e.Init=n,e.Dispose=s}(window.UICmHelper=window.UICmHelper||{},jQuery,__ACClasses);